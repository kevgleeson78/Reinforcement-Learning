<!doctype html>
<html>
<head>
    <title>Send javascript with template demo</title>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <style>
        #customers {
            font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
            border-collapse: collapse;
            width: 50%;
            float: left;
        }

        #customers td, #customers th {
            border: 1px solid #ddd;
            padding: 8px;
        }

        #customers tr:nth-child(even){background-color: #f2f2f2;}

        #customers tr:hover {background-color: #ddd;}

        #customers th {
            padding-top: 12px;
            padding-bottom: 12px;
            text-align: left;
            background-color: #4CAF50;
            color: white;
        }
    </style>
</head>
<body>

<form action="/test" method="post">
    Epsilon: <input type="number" name="epsilon" min="0" max="1" step=".01" value=".09"> <br/>
    Gamma: <input type="number" name="gamma" min="0" max="1" step=".01" value=".8"> <br/>
    Number of Episodes: <input type="number" name="episode" min="0" max="2000" step="1" value="100"> <br/>
    Max number of steps: <input type="number" name="max_steps" min="0" max="500" step="5" value="10"> <br/>
    Per Step cost: <input type="text" name="per_step_cost"> <br/>
    Goal Reward: <input type="text" name="goal_reward"> <br/>
    <input type="submit" name= "form">
</form>
<table id="customers">
    <caption>Q-TABLE</caption>
    <tr>
        <th>State</th>
        <th>UP</th>
        <th>Down</th>
        <th>Left</th>
        <th>Right</th>
        <th>Agent Pos</th>
    </tr>

</table>

<canvas id="canvas" width="650px" height="650px" style="float: right;"></canvas>



<div id="chart_div" style="display: block;"></div>
<script>
    google.charts.load('current', {packages: ['corechart', 'line']});
    google.charts.setOnLoadCallback(drawBasic);

    function drawBasic() {
        var json_data = {"0":-115,"1":-110,"2":-111,"3":-108,"4":-105,"5":-118,"6":-105,"7":-108,"8":-112,"9":-119,"10":-122,"11":-121,"12":-106,"13":-106,"14":-112,"15":-112,"16":-107,"17":-109,"18":-137,"19":-114,"20":-116,"21":-128,"22":963,"23":988,"24":-189,"25":-126,"26":-100,"27":-100,"28":-108,"29":-100,"30":962,"31":989,"32":990,"33":990,"34":991,"35":989,"36":991,"37":991,"38":991,"39":991,"40":991,"41":989,"42":991,"43":990,"44":989,"45":991,"46":991,"47":991,"48":991,"49":991,"50":991,"51":991,"52":991,"53":991,"54":991,"55":991,"56":991,"57":991,"58":991,"59":991,"60":991,"61":991,"62":991,"63":991,"64":991,"65":991,"66":991,"67":991,"68":991,"69":991,"70":991,"71":991,"72":991,"73":991,"74":991,"75":991,"76":991,"77":991,"78":991,"79":991,"80":991,"81":991,"82":991,"83":991,"84":991,"85":991,"86":991,"87":991,"88":991,"89":991,"90":991,"91":991,"92":991,"93":991,"94":991,"95":991,"96":991,"97":991,"98":991,"99":991,"100":991,"101":991,"102":991,"103":991,"104":991,"105":991,"106":991,"107":991,"108":991,"109":991,"110":991,"111":991,"112":991,"113":989,"114":991,"115":991,"116":991,"117":991,"118":991,"119":991,"120":991,"121":991,"122":991,"123":991,"124":991,"125":987,"126":991,"127":991,"128":991,"129":991,"130":991,"131":991,"132":991,"133":991,"134":991,"135":991,"136":991,"137":991,"138":991,"139":991,"140":991,"141":991,"142":991,"143":991,"144":991,"145":991,"146":991,"147":991,"148":991,"149":991,"150":991,"151":991,"152":991,"153":991,"154":991,"155":991,"156":991,"157":991,"158":991,"159":991,"160":991,"161":991,"162":991,"163":991,"164":991,"165":991,"166":991,"167":991,"168":991,"169":-108,"170":991,"171":991,"172":991,"173":991,"174":991,"175":991,"176":991,"177":991,"178":991,"179":991,"180":991,"181":991,"182":991,"183":991,"184":991,"185":990,"186":991,"187":991,"188":974,"189":991,"190":991,"191":991,"192":991,"193":991,"194":991,"195":991,"196":991,"197":991,"198":991,"199":991,"200":991,"201":991,"202":991,"203":991,"204":991,"205":991,"206":991,"207":991,"208":991,"209":991,"210":991,"211":991,"212":991,"213":991,"214":991,"215":991,"216":989,"217":991,"218":991,"219":991,"220":991,"221":991,"222":991,"223":991,"224":991,"225":991,"226":991,"227":991,"228":991,"229":991,"230":991,"231":991,"232":991,"233":991,"234":991,"235":991,"236":991,"237":991,"238":991,"239":991,"240":991,"241":991,"242":991,"243":991,"244":991,"245":991,"246":991,"247":991,"248":989,"249":991,"250":991,"251":991,"252":991,"253":991,"254":991,"255":991,"256":991,"257":991,"258":991,"259":991,"260":991,"261":991,"262":991,"263":991,"264":991,"265":991,"266":991,"267":991,"268":991,"269":991,"270":991,"271":991,"272":991,"273":991,"274":991,"275":991,"276":991,"277":991,"278":989,"279":991,"280":991,"281":991,"282":991,"283":991,"284":991,"285":991,"286":991,"287":991,"288":991,"289":991,"290":991,"291":991,"292":987,"293":991,"294":991,"295":991,"296":991,"297":991,"298":989,"299":991,"300":991,"301":991,"302":991,"303":991,"304":991,"305":991,"306":991,"307":991,"308":991,"309":991,"310":991,"311":991,"312":991,"313":991,"314":991,"315":991,"316":991,"317":991,"318":991,"319":991,"320":991,"321":991,"322":991,"323":991,"324":991,"325":991,"326":991,"327":991,"328":991,"329":991,"330":991,"331":991,"332":991,"333":991,"334":991,"335":991,"336":991,"337":991,"338":991,"339":991,"340":991,"341":991,"342":991,"343":991,"344":991,"345":991,"346":991,"347":991,"348":991,"349":991,"350":991,"351":991,"352":991,"353":989,"354":991,"355":991,"356":991,"357":991,"358":991,"359":991,"360":991,"361":991,"362":991,"363":991,"364":991,"365":991,"366":991,"367":991,"368":991,"369":991,"370":991,"371":991,"372":991,"373":990,"374":991,"375":991,"376":991,"377":991,"378":991,"379":991,"380":991,"381":991,"382":991,"383":989,"384":991,"385":991,"386":991,"387":991,"388":991,"389":991,"390":991,"391":991,"392":991,"393":991,"394":991,"395":991,"396":991,"397":991,"398":991,"399":991,"400":991,"401":991,"402":991,"403":991,"404":991,"405":991,"406":991,"407":991,"408":991,"409":991,"410":991,"411":991,"412":991,"413":991,"414":991,"415":991,"416":991,"417":991,"418":991,"419":990,"420":991,"421":991,"422":991,"423":991,"424":991,"425":991,"426":991,"427":991,"428":991,"429":991,"430":991,"431":991,"432":991,"433":991,"434":991,"435":991,"436":991,"437":991,"438":991,"439":991,"440":991,"441":991,"442":991,"443":991,"444":991,"445":991,"446":991,"447":991,"448":991,"449":991,"450":991,"451":991,"452":-104,"453":991,"454":991,"455":991,"456":991,"457":991,"458":991,"459":991,"460":991,"461":991,"462":991,"463":991,"464":-108,"465":991,"466":991,"467":991,"468":991,"469":991,"470":991,"471":991,"472":991,"473":991,"474":991,"475":991,"476":991,"477":991,"478":991,"479":990,"480":-104,"481":991,"482":991,"483":991,"484":991,"485":991,"486":991,"487":991,"488":991,"489":991,"490":991,"491":991,"492":991,"493":991,"494":991,"495":991,"496":991,"497":991,"498":991,"499":991,"500":991,"501":991,"502":991,"503":991,"504":991,"505":991,"506":991,"507":991,"508":991,"509":991,"510":-104,"511":991,"512":991,"513":991,"514":989,"515":991,"516":991,"517":991,"518":991,"519":991,"520":991,"521":991,"522":991,"523":991,"524":991,"525":991,"526":991,"527":991,"528":991,"529":991,"530":991,"531":991,"532":991,"533":991,"534":991,"535":991,"536":991,"537":-109,"538":989,"539":991,"540":991,"541":991,"542":991,"543":991,"544":991,"545":991,"546":991,"547":991,"548":991,"549":991,"550":991,"551":991,"552":991,"553":991,"554":991,"555":991,"556":991,"557":991,"558":991,"559":991,"560":991,"561":991,"562":991,"563":991,"564":991,"565":991,"566":991,"567":989,"568":991,"569":991,"570":991,"571":991,"572":991,"573":991,"574":991,"575":991,"576":991,"577":990,"578":991,"579":991,"580":991,"581":989,"582":987,"583":991,"584":991,"585":991,"586":991,"587":991,"588":991,"589":991,"590":991,"591":991,"592":991,"593":956,"594":988,"595":991,"596":989,"597":956,"598":974,"599":991,"600":991,"601":991,"602":991,"603":991,"604":991,"605":991,"606":991,"607":991,"608":991,"609":991,"610":991,"611":991,"612":991,"613":991,"614":991,"615":991,"616":991,"617":991,"618":991,"619":991,"620":991,"621":991,"622":991,"623":991,"624":991,"625":991,"626":991,"627":991,"628":991,"629":991,"630":991,"631":991,"632":989,"633":991,"634":991,"635":991,"636":991,"637":991,"638":991,"639":991,"640":991,"641":991,"642":991,"643":991,"644":991,"645":991,"646":991,"647":991,"648":991,"649":991,"650":989,"651":991,"652":991,"653":991,"654":991,"655":990,"656":991,"657":991,"658":991,"659":991,"660":991,"661":991,"662":991,"663":991,"664":991,"665":991,"666":991,"667":991,"668":991,"669":991,"670":991,"671":991,"672":991,"673":991,"674":991,"675":991,"676":991,"677":991,"678":991,"679":991,"680":991,"681":991,"682":991,"683":991,"684":991,"685":991,"686":991,"687":991,"688":-104,"689":991,"690":991,"691":991,"692":991,"693":991,"694":991,"695":991,"696":991,"697":991,"698":991,"699":991,"700":991,"701":991,"702":991,"703":991,"704":991,"705":991,"706":991,"707":991,"708":991,"709":991,"710":991,"711":991,"712":991,"713":991,"714":991,"715":991,"716":989,"717":991,"718":991,"719":991,"720":989,"721":991,"722":991,"723":991,"724":991,"725":991,"726":991,"727":991,"728":990,"729":991,"730":991,"731":991,"732":991,"733":991,"734":991,"735":991,"736":991,"737":991,"738":991,"739":991,"740":991,"741":991,"742":991,"743":991,"744":991,"745":990,"746":991,"747":991,"748":991,"749":991,"750":991,"751":991,"752":991,"753":991,"754":991,"755":991,"756":991,"757":990,"758":991,"759":991,"760":991,"761":991,"762":991,"763":991,"764":991,"765":991,"766":989,"767":991,"768":991,"769":991,"770":991,"771":991,"772":991,"773":991,"774":989,"775":991,"776":991,"777":991,"778":991,"779":991,"780":991,"781":991,"782":991,"783":990,"784":991,"785":991,"786":991,"787":991,"788":991,"789":991,"790":991,"791":991,"792":991,"793":991,"794":991,"795":989,"796":991,"797":991,"798":991,"799":991,"800":991,"801":991,"802":991,"803":991,"804":-109,"805":991,"806":991,"807":991,"808":991,"809":991,"810":991,"811":991,"812":991,"813":991,"814":991,"815":991,"816":991,"817":991,"818":991,"819":991,"820":991,"821":991,"822":991,"823":991,"824":991,"825":991,"826":991,"827":991,"828":991,"829":991,"830":991,"831":991,"832":991,"833":991,"834":991,"835":991,"836":991,"837":991,"838":991,"839":991,"840":991,"841":991,"842":991,"843":991,"844":991,"845":991,"846":991,"847":991,"848":991,"849":991,"850":991,"851":991,"852":991,"853":991,"854":991,"855":991,"856":991,"857":991,"858":991,"859":991,"860":991,"861":991,"862":990,"863":991,"864":991,"865":989,"866":991,"867":991,"868":990,"869":991,"870":991,"871":991,"872":991,"873":991,"874":991,"875":991,"876":-104,"877":991,"878":991,"879":991,"880":991,"881":991,"882":991,"883":991,"884":991,"885":991,"886":991,"887":991,"888":991,"889":991,"890":991,"891":991,"892":991,"893":991,"894":991,"895":991,"896":991,"897":991,"898":971,"899":991,"900":991,"901":956,"902":991,"903":991,"904":991,"905":991,"906":991,"907":991,"908":991,"909":991,"910":991,"911":991,"912":991,"913":991,"914":991,"915":991,"916":989,"917":991,"918":991,"919":991,"920":991,"921":991,"922":991,"923":991,"924":991,"925":991,"926":979,"927":991,"928":991,"929":991,"930":991,"931":991,"932":991,"933":991,"934":991,"935":987,"936":991,"937":991,"938":991,"939":991,"940":991,"941":991,"942":991,"943":991,"944":991,"945":991,"946":991,"947":991,"948":989,"949":987,"950":991,"951":991,"952":991,"953":991,"954":991,"955":991,"956":991,"957":991,"958":991,"959":991,"960":987,"961":991,"962":991,"963":991,"964":991,"965":991,"966":991,"967":991,"968":991,"969":991,"970":991,"971":991,"972":991,"973":991,"974":991,"975":989,"976":991,"977":991,"978":991,"979":991,"980":991,"981":991,"982":991,"983":991,"984":991,"985":991,"986":991,"987":991,"988":991,"989":991,"990":991,"991":991,"992":990,"993":991,"994":991,"995":991,"996":991,"997":991,"998":991,"999":991,"1000":991,"1001":991,"1002":991,"1003":991,"1004":991,"1005":991,"1006":-109,"1007":991,"1008":991,"1009":991,"1010":991,"1011":991,"1012":991,"1013":991,"1014":991,"1015":991,"1016":991,"1017":991,"1018":990,"1019":991,"1020":991,"1021":991,"1022":991,"1023":991,"1024":991,"1025":991,"1026":991,"1027":991,"1028":991,"1029":991,"1030":991,"1031":991,"1032":991,"1033":991,"1034":991,"1035":991,"1036":991,"1037":991,"1038":991,"1039":989,"1040":991,"1041":991,"1042":991,"1043":991,"1044":991,"1045":991,"1046":991,"1047":991,"1048":991,"1049":991,"1050":991,"1051":991,"1052":991,"1053":991,"1054":991,"1055":991,"1056":991,"1057":991,"1058":991,"1059":991,"1060":991,"1061":991,"1062":991,"1063":991,"1064":991,"1065":991,"1066":991,"1067":991,"1068":991,"1069":991,"1070":991,"1071":991,"1072":991,"1073":991,"1074":991,"1075":991,"1076":991,"1077":991,"1078":991,"1079":991,"1080":991,"1081":991,"1082":991,"1083":991,"1084":991,"1085":991,"1086":991,"1087":989,"1088":988,"1089":-104,"1090":991,"1091":991,"1092":991,"1093":991,"1094":987,"1095":991,"1096":991,"1097":991,"1098":991,"1099":991,"1100":991,"1101":991,"1102":991,"1103":991,"1104":991,"1105":991,"1106":991,"1107":989,"1108":991,"1109":989,"1110":991,"1111":991,"1112":991,"1113":991,"1114":991,"1115":991,"1116":991,"1117":991,"1118":991,"1119":991,"1120":991,"1121":991,"1122":991,"1123":991,"1124":991,"1125":991,"1126":991,"1127":991,"1128":991,"1129":991,"1130":991,"1131":991,"1132":991,"1133":991,"1134":991,"1135":991,"1136":991,"1137":991,"1138":991,"1139":991,"1140":-102,"1141":991,"1142":991,"1143":991,"1144":991,"1145":989,"1146":991,"1147":991,"1148":989,"1149":991,"1150":991,"1151":991,"1152":991,"1153":991,"1154":991,"1155":991,"1156":991,"1157":991,"1158":991,"1159":991,"1160":991,"1161":991,"1162":991,"1163":991,"1164":991,"1165":991,"1166":991,"1167":991,"1168":991,"1169":991,"1170":991,"1171":991,"1172":991,"1173":991,"1174":991,"1175":991,"1176":991,"1177":991,"1178":991,"1179":991,"1180":989,"1181":991,"1182":991,"1183":991,"1184":991,"1185":991,"1186":991,"1187":991,"1188":991,"1189":991,"1190":991,"1191":989,"1192":991,"1193":951,"1194":991,"1195":991,"1196":991,"1197":991,"1198":991,"1199":991,"1200":989,"1201":991,"1202":991,"1203":989,"1204":991,"1205":991,"1206":-104,"1207":991,"1208":991,"1209":991,"1210":991,"1211":991,"1212":991,"1213":991,"1214":991,"1215":991,"1216":991,"1217":991,"1218":976,"1219":991,"1220":991,"1221":-102,"1222":991,"1223":991,"1224":991,"1225":991,"1226":991,"1227":991,"1228":991,"1229":991,"1230":991,"1231":991,"1232":991,"1233":991,"1234":991,"1235":991,"1236":991,"1237":991,"1238":991,"1239":991,"1240":991,"1241":991,"1242":991,"1243":991,"1244":991,"1245":989,"1246":991,"1247":991,"1248":991,"1249":991,"1250":991,"1251":991,"1252":991,"1253":990,"1254":991,"1255":991,"1256":989,"1257":991,"1258":991,"1259":989,"1260":991,"1261":991,"1262":991,"1263":991,"1264":991,"1265":989,"1266":991,"1267":989,"1268":991,"1269":991,"1270":991,"1271":991,"1272":991,"1273":991,"1274":989,"1275":991,"1276":991,"1277":991,"1278":991,"1279":991,"1280":991,"1281":991,"1282":991,"1283":987,"1284":991,"1285":991,"1286":991,"1287":991,"1288":991,"1289":991,"1290":991,"1291":991,"1292":991,"1293":991,"1294":991,"1295":991,"1296":991,"1297":991,"1298":991,"1299":991,"1300":991,"1301":991,"1302":991,"1303":991,"1304":991,"1305":979,"1306":991,"1307":991,"1308":991,"1309":987,"1310":991,"1311":991,"1312":991,"1313":991,"1314":991,"1315":991,"1316":991,"1317":991,"1318":991,"1319":989,"1320":991,"1321":991,"1322":991,"1323":991,"1324":989,"1325":991,"1326":991,"1327":991,"1328":991,"1329":991,"1330":991,"1331":991,"1332":991,"1333":991,"1334":991,"1335":991,"1336":991,"1337":991,"1338":990,"1339":991,"1340":991,"1341":991,"1342":991,"1343":991,"1344":991,"1345":991,"1346":991,"1347":991,"1348":991,"1349":991,"1350":991,"1351":991,"1352":991,"1353":991,"1354":991,"1355":991,"1356":991,"1357":-109,"1358":991,"1359":990,"1360":991,"1361":991,"1362":991,"1363":991,"1364":991,"1365":991,"1366":991,"1367":991,"1368":991,"1369":991,"1370":-104,"1371":991,"1372":991,"1373":991,"1374":991,"1375":991,"1376":991,"1377":989,"1378":991,"1379":991,"1380":991,"1381":991,"1382":991,"1383":991,"1384":991,"1385":991,"1386":991,"1387":991,"1388":991,"1389":991,"1390":-109,"1391":991,"1392":991,"1393":991,"1394":991,"1395":991,"1396":-104,"1397":991,"1398":991,"1399":991,"1400":991,"1401":991,"1402":991,"1403":991,"1404":991,"1405":991,"1406":991,"1407":991,"1408":991,"1409":991,"1410":991,"1411":991,"1412":991,"1413":991,"1414":991,"1415":991,"1416":991,"1417":-104,"1418":991,"1419":991,"1420":991,"1421":985,"1422":991,"1423":991,"1424":991,"1425":991,"1426":991,"1427":991,"1428":991,"1429":991,"1430":991,"1431":991,"1432":991,"1433":991,"1434":991,"1435":991,"1436":991,"1437":989,"1438":991,"1439":991,"1440":991,"1441":991,"1442":990,"1443":991,"1444":991,"1445":991,"1446":991,"1447":991,"1448":991,"1449":-104,"1450":991,"1451":991,"1452":991,"1453":991,"1454":991,"1455":991,"1456":991,"1457":991,"1458":991,"1459":991,"1460":991,"1461":991,"1462":991,"1463":991,"1464":991,"1465":991,"1466":991,"1467":990,"1468":991,"1469":991,"1470":991,"1471":989,"1472":991,"1473":991,"1474":991,"1475":991,"1476":991,"1477":989,"1478":991,"1479":991,"1480":991,"1481":991,"1482":991,"1483":991,"1484":991,"1485":991,"1486":991,"1487":991,"1488":991,"1489":989,"1490":991,"1491":991,"1492":991,"1493":991,"1494":991,"1495":-109,"1496":991,"1497":991,"1498":991,"1499":991,"1500":991,"1501":991,"1502":991,"1503":991,"1504":991,"1505":991,"1506":991,"1507":991,"1508":991,"1509":991,"1510":991,"1511":991,"1512":991,"1513":991,"1514":991,"1515":991,"1516":991,"1517":991,"1518":991,"1519":991,"1520":991,"1521":991,"1522":991,"1523":991,"1524":991,"1525":991,"1526":991,"1527":991,"1528":991,"1529":991,"1530":991,"1531":991,"1532":991,"1533":991,"1534":991,"1535":989,"1536":990,"1537":-102,"1538":990,"1539":991,"1540":991,"1541":991,"1542":991,"1543":991,"1544":991,"1545":991,"1546":991,"1547":991,"1548":991,"1549":991,"1550":-104,"1551":991,"1552":991,"1553":991,"1554":991,"1555":991,"1556":991,"1557":991,"1558":991,"1559":991,"1560":991,"1561":991,"1562":991,"1563":991,"1564":991,"1565":991,"1566":991,"1567":972,"1568":991,"1569":991,"1570":991,"1571":991,"1572":991,"1573":991,"1574":991,"1575":991,"1576":991,"1577":991,"1578":991,"1579":986,"1580":991,"1581":991,"1582":991,"1583":991,"1584":991,"1585":991,"1586":991,"1587":991,"1588":991,"1589":991,"1590":991,"1591":991,"1592":991,"1593":991,"1594":991,"1595":991,"1596":990,"1597":990,"1598":991,"1599":991,"1600":991,"1601":991,"1602":991,"1603":991,"1604":991,"1605":991,"1606":991,"1607":991,"1608":991,"1609":991,"1610":991,"1611":991,"1612":991,"1613":991,"1614":991,"1615":991,"1616":991,"1617":991,"1618":991,"1619":991,"1620":991,"1621":991,"1622":991,"1623":991,"1624":991,"1625":991,"1626":991,"1627":990,"1628":991,"1629":991,"1630":991,"1631":991,"1632":991,"1633":991,"1634":991,"1635":991,"1636":991,"1637":991,"1638":991,"1639":991,"1640":991,"1641":991,"1642":991,"1643":989,"1644":991,"1645":991,"1646":991,"1647":991,"1648":989,"1649":991,"1650":991,"1651":991,"1652":991,"1653":991,"1654":991,"1655":991,"1656":991,"1657":991,"1658":991,"1659":987,"1660":991,"1661":991,"1662":991,"1663":991,"1664":991,"1665":991,"1666":990,"1667":991,"1668":991,"1669":991,"1670":991,"1671":991,"1672":991,"1673":991,"1674":991,"1675":991,"1676":991,"1677":991,"1678":991,"1679":991,"1680":991,"1681":991,"1682":991,"1683":991,"1684":991,"1685":991,"1686":991,"1687":991,"1688":991,"1689":991,"1690":991,"1691":991,"1692":991,"1693":991,"1694":991,"1695":991,"1696":991,"1697":991,"1698":989,"1699":991,"1700":991,"1701":989,"1702":991,"1703":991,"1704":991,"1705":991,"1706":991,"1707":991,"1708":991,"1709":991,"1710":991,"1711":991,"1712":991,"1713":991,"1714":991,"1715":991,"1716":991,"1717":991,"1718":991,"1719":991,"1720":-132,"1721":989,"1722":991,"1723":991,"1724":991,"1725":991,"1726":-104,"1727":991,"1728":991,"1729":991,"1730":991,"1731":991,"1732":991,"1733":991,"1734":991,"1735":991,"1736":991,"1737":991,"1738":991,"1739":991,"1740":991,"1741":991,"1742":991,"1743":991,"1744":991,"1745":985,"1746":991,"1747":991,"1748":991,"1749":991,"1750":991,"1751":991,"1752":991,"1753":991,"1754":991,"1755":991,"1756":991,"1757":991,"1758":991,"1759":991,"1760":991,"1761":991,"1762":991,"1763":991,"1764":991,"1765":991,"1766":991,"1767":991,"1768":991,"1769":991,"1770":991,"1771":991,"1772":991,"1773":991,"1774":991,"1775":991,"1776":991,"1777":991,"1778":991,"1779":991,"1780":989,"1781":991,"1782":991,"1783":991,"1784":991,"1785":991,"1786":991,"1787":991,"1788":991,"1789":991,"1790":991,"1791":991,"1792":991,"1793":991,"1794":991,"1795":991,"1796":991,"1797":991,"1798":991,"1799":991,"1800":991,"1801":991,"1802":991,"1803":991,"1804":991,"1805":991,"1806":991,"1807":991,"1808":991,"1809":991,"1810":991,"1811":991,"1812":991,"1813":991,"1814":980,"1815":991,"1816":991,"1817":991,"1818":991,"1819":991,"1820":991,"1821":991,"1822":991,"1823":991,"1824":991,"1825":991,"1826":991,"1827":991,"1828":991,"1829":991,"1830":991,"1831":991,"1832":990,"1833":991,"1834":991,"1835":991,"1836":991,"1837":991,"1838":991,"1839":991,"1840":991,"1841":991,"1842":991,"1843":991,"1844":991,"1845":991,"1846":991,"1847":991,"1848":991,"1849":991,"1850":991,"1851":991,"1852":991,"1853":991,"1854":991,"1855":991,"1856":991,"1857":991,"1858":991,"1859":991,"1860":991,"1861":991,"1862":991,"1863":991,"1864":991,"1865":991,"1866":991,"1867":991,"1868":987,"1869":991,"1870":991,"1871":991,"1872":991,"1873":991,"1874":991,"1875":991,"1876":991,"1877":991,"1878":991,"1879":991,"1880":990,"1881":991,"1882":991,"1883":991,"1884":991,"1885":991,"1886":991,"1887":991,"1888":991,"1889":989,"1890":991,"1891":-108,"1892":991,"1893":991,"1894":991,"1895":991,"1896":991,"1897":991,"1898":991,"1899":991,"1900":991,"1901":991,"1902":991,"1903":991,"1904":991,"1905":991,"1906":991,"1907":991,"1908":991,"1909":991,"1910":991,"1911":991,"1912":991,"1913":990,"1914":991,"1915":991,"1916":991,"1917":991,"1918":991,"1919":991,"1920":991,"1921":991,"1922":991,"1923":991,"1924":991,"1925":991,"1926":991,"1927":989,"1928":991,"1929":991,"1930":991,"1931":991,"1932":991,"1933":991,"1934":991,"1935":991,"1936":991,"1937":991,"1938":991,"1939":991,"1940":991,"1941":991,"1942":989,"1943":991,"1944":991,"1945":991,"1946":991,"1947":991,"1948":991,"1949":991,"1950":991,"1951":991,"1952":991,"1953":991,"1954":991,"1955":991,"1956":991,"1957":991,"1958":991,"1959":991,"1960":991,"1961":991,"1962":991,"1963":-104,"1964":989,"1965":991,"1966":991,"1967":991,"1968":991,"1969":991,"1970":991,"1971":991,"1972":991,"1973":991,"1974":991,"1975":991,"1976":991,"1977":991,"1978":991,"1979":991,"1980":991,"1981":991,"1982":991,"1983":991,"1984":991,"1985":991,"1986":991,"1987":991,"1988":991,"1989":991,"1990":991,"1991":991,"1992":991,"1993":991,"1994":989,"1995":991,"1996":991,"1997":991,"1998":991,"1999":989};
        var result = [];

        for(var i in json_data)
            result.push([i, json_data [i]]);
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'X');
        data.addColumn('number', 'Dogs');

        data.addRows(result);

        var options = {
            hAxis: {
                title: 'Time'
            },
            vAxis: {
                title: 'Popularity'
            }
        };

        var chart = new google.visualization.LineChart(document.getElementById('chart_div'));

        chart.draw(data, options);
    }
    var arrays = [], size = 2;
    // Box width
    var bw = 600;
    // Box height
    var bh = 600;
    col = 6;
    row = 6;
    gridX = bw/row;
    gridY = bh/col;
    // Padding
    var p = 10;

    var canvas = document.getElementById("canvas");
    var context = canvas.getContext("2d");
    //context.transform(1, 0, 0, -1, 0, canvas.height)

    function drawBoard(){

        for (var x = 0; x <= bw; x += gridX) {
            context.moveTo(0.5 + x + p, p);
            context.lineTo(0.5 + x + p, bh + p);
        }


        for (var x = 0; x <= bh ; x += gridY) {
            context.moveTo(p, 0.5 + x + p);
            context.lineTo(bw + p, 0.5 + x + p);
        }

        context.strokeStyle = "black";
        context.stroke();
    }



    function drawShape(x , y,colour){
        context.strokeRect(p + gridX,p,gridX,gridY);
        context.fillStyle = colour;
        context.fillRect(p + gridX * x,p+ gridY * y,gridX,gridY);
    }
    var test5=[];
    // AJAX in the data file

    $.ajax({
        type: "GET",
        url: "static/Dataframe.csv",
        dataType: "text",
        cache: false,
        async: true,
        success: function(data) {
            var data =data;
            result = data.split(/\r\n|\n|\r/).reduce((r, s) => {
                var array = s.split(',').map(Number);
                if (!array[0]) {
                    r.push([]);
                }
                r[r.length - 1].push(...array);
                return r;
            }, []);

            for(let i=0; i<result.length; i++){

                window.setTimeout(function () {
                    for(j=0; j< (result[i].length-1) / 5; j++){
                        test5 = result[i].slice(j * 5, (j + 1) * 5);
                        if(test5[0]==0){
                            $('.data').remove();
                        }

                        $('table').append('<tr class="data"><td>'+test5[0] + '</td><td>'+test5[1] + '</td><td>'+test5[2] + '</td><td>'+test5[3] + '</td><td>'+test5[4] + '</td><td>'+arrays[j]+ '</td></tr>');


                    }


                },i*80);



            }


        }
    });



    $.ajax({

        url: "/static/test.txt",
        dataType: "text",
        cache: false,
        async: true,
        success: function (data) {
            var arr =   data.split(/,/g).slice(0);


            for(let i=0; i<arr.length -2; i+=2){
                window.setTimeout(function () {
                    x1 = arr[i];
                    y1 = arr[i+1];

                    context.clearRect(0, 0, 650, 650);

                    drawBoard();

                    drawShape(5,  0, 'green');
                    drawShape(3,  0, 'red');
                    drawShape(5, 1, 'red');
                    drawShape(1, 1, 'red');

                    drawShape(1, 3, 'red');
                    drawShape(2, 4, 'red');
                    drawShape(4, 4, 'red');
                    drawShape(y1, x1,'yellow');

                    //  $("body").append("Pos: " + x1 + "  "+y1);
                }, i * 40);

            }


            //console.log($.unique(position));
            // $("#div1").text(data);
        }

    });
    $.ajax({

        url: "/static/test.txt",
        dataType: "text",
        cache: false,
        async: true,
        success: function (data) {
            var arrt = data.split(/,/g).slice(0);
            var terminal = [[4,2],[4,4],[3,1],[1,1],[1,5],[0,3],[0,5]];

            while (arrt.length > 0) {

                arrays.push(arrt.splice(0, size));
            }

            function multiDimensionalUnique(arr3) {
                var uniques = [];
                var itemsFound = {};
                for(var i = 0, l = arr3.length; i < l; i++) {

                    var stringified = JSON.stringify(arr3[i]);
                    if(itemsFound[stringified]) { continue; }

                    uniques.push(arr3[i]);

                    itemsFound[stringified] = true;

                }

                return uniques;
            }
            arrays.pop(0);

            arrays = multiDimensionalUnique(arrays);
            for(var x = 0; x < arrays.length; x++){

                //Iterate through all elements in second array
                for(var y = 0; y < terminal.length; y++){

                    /*This causes us to compare all elements
                       in first array to each element in second array
                      Since md1[x] stays fixed while md2[y] iterates through second array.
                       We compare the first two indexes of each array in conditional
                    */
                    if(arrays[x][0] == terminal[y][0] && arrays[x][1] == terminal[y][1]){
                        arrays.splice(x, 1);
                        //console.log(arrays);
                    }
                }
            }


        }

    });













</script>
</body>
</html>
<!--
<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js">

    </script>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<canvas id="canvas" width="500px" height="500px" style="float: right;"></canvas>
<p>This is the latest output: <span id="latest"></span></p>
<p>This is all the output:</p>
<ul id="output"></ul>

</body>

<script>

    // Box width
    var bw = 400;
    // Box height
    var bh = 400;
    col = 3;
    row = 4;
    gridX = bh/row;
    gridY = bw/col;
    // Padding
    var p = 10;

    var canvas = document.getElementById("canvas");
    var context = canvas.getContext("2d");
    function drawBoard(){
        for (var x = 0; x <= bw; x += gridX) {
            context.moveTo(0.5 + x + p, p);
            context.lineTo(0.5 + x + p, bh + p);
        }


        for (var x = 0; x <= bh ; x += gridY) {
            context.moveTo(p, 0.5 + x + p);
            context.lineTo(bw + p, 0.5 + x + p);
        }

        context.strokeStyle = "black";
        context.stroke();
    }

    drawBoard();
    drawShape(3, 1, 'red');
    drawShape(3, 0, 'green');
    drawShape(0,2, 'yellow');
function drawShape(x , y,colour){
    context.strokeRect(p + gridX,p,gridX,gridY);
    context.fillStyle = colour;
    context.fillRect(p + gridX * x,p+ gridY * y,gridX,gridY);
}
for(let i = 0; i< 4;i++) {

        setTimeout(function () {

            context.clearRect(0, 0, 500, 500);
            drawBoard();
            drawShape(3, 0, 'green');
            drawShape(3, 1, 'red');
            drawShape(i, 0, 'yellow');

        }, i * 1000);
}

   var latest = document.getElementById('latest');
    var output = document.getElementById('output');

    var xhr = new XMLHttpRequest();
    xhr.open('GET', '{ url_for('stream') }}');
    xhr.send();
    var position = 0;

    function handleNewData() {
        // the response text include the entire response so far
        // split the messages, then take the messages that haven't been handled yet
        // position tracks how many messages have been handled
        // messages end with a newline, so split will always show one extra empty message at the end
        var messages = xhr.responseText.split('\n');
        messages.slice(position, -1).forEach(function(value) {
            latest.textContent = value;  // update the latest value in place
            // build and append a new item to a list to log all output
            var item = document.createElement('li');
           item.textContent = value;
            output.appendChild(item);
        });
        position = messages.length - 1;
    }

    var timer;
    timer = setInterval(function() {
        // check the response for new data
        handleNewData();
        // stop checking once the response has ended
        if (xhr.readyState == XMLHttpRequest.DONE) {
            clearInterval(timer);
            latest.textContent = 'Done';
        }
    }, 100);



</script>
</html>
-->